---
layout: doc
title: Pythonæ­£åˆ™è¡¨è¾¾å¼å®Œå…¨æŒ‡å—
editLink: true
---

# Pythonæ­£åˆ™è¡¨è¾¾å¼ï¼šä»æ¨¡å¼åŒ¹é…åˆ°æ–‡æœ¬æŒ–æ˜

## æ­£åˆ™è¡¨è¾¾å¼å°±åƒè¶…çº§æœç´¢ï¼ˆåŸºç¡€æ¦‚å¿µï¼‰

### 1.1 ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ
æƒ³è±¡ä½ åœ¨ç©"Word Search"æ¸¸æˆæ—¶ï¼š
- ğŸ” æ™®é€šæœç´¢ï¼šæŸ¥æ‰¾å›ºå®šå•è¯ "cat"
- ğŸ¦¸ æ­£åˆ™æœç´¢ï¼šæŸ¥æ‰¾æ‰€æœ‰ä»¥cå¼€å¤´ã€tç»“å°¾çš„3å­—æ¯å•è¯ï¼ˆå¦‚cat/cot/cutï¼‰

æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯å®šä¹‰è¿™ç§æœç´¢æ¨¡å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå¸¸ç”¨äºï¼š
- éªŒè¯æ‰‹æœºå·/é‚®ç®±æ ¼å¼
- æ‰¹é‡æå–ç½‘é¡µæ•°æ®
- æ—¥å¿—æ–‡ä»¶åˆ†æ
- æ–‡æœ¬å†…å®¹æ›¿æ¢

### 1.2 å¿«é€Ÿä½“éªŒ
```python
import re

text = "è”ç³»ç”µè¯ï¼š138-1234-5678ï¼Œå¤‡ç”¨ç”µè¯ï¼š150 5555 8888"

# æŸ¥æ‰¾æ‰€æœ‰æ‰‹æœºå·
pattern = r'\d{3}[- ]?\d{4}[- ]?\d{4}'
phones = re.findall(pattern, text)

print(phones)  # è¾“å‡ºï¼š['138-1234-5678', '150 5555 8888']
```

## ç¬¬äºŒç« ï¼šåŸºç¡€è¯­æ³•å°±åƒæ­ç§¯æœ¨ï¼ˆæ¨¡å¼æ„å»ºï¼‰

### 2.1 å­—ç¬¦åŒ¹é…
| æ¨¡å¼   | åŒ¹é…å†…å®¹       | ç¤ºä¾‹            | åŒ¹é…ç»“æœ       |
|--------|----------------|-----------------|----------------|
| `\d`   | æ•°å­—å­—ç¬¦       | `\d\d`          | "23"           |
| `\w`   | å•è¯å­—ç¬¦       | `\w\w\w`        | "Cat"          |
| `\s`   | ç©ºç™½å­—ç¬¦       | `\d\s\d`        | "1 2"          |
| `.`    | ä»»æ„å­—ç¬¦       | `c.t`           | "cat", "cbt"   |
| `[...]`| å­—ç¬¦é›†åˆ       | `[aeiou]`       | "a", "e"ç­‰å…ƒéŸ³ |

### 2.2 é‡è¯æ§åˆ¶
| é‡è¯   | ä½œç”¨           | ç¤ºä¾‹          | åŒ¹é…ç»“æœ       |
|--------|----------------|---------------|----------------|
| `*`    | 0æ¬¡æˆ–å¤šæ¬¡      | `a*`          | "", "a", "aaa"|
| `+`    | 1æ¬¡æˆ–å¤šæ¬¡      | `\d+`         | "1", "123"     |
| `?`    | 0æ¬¡æˆ–1æ¬¡       | `colou?r`     | "color", "colour"|
| `{n}`  | ç²¾ç¡®næ¬¡        | `\d{4}`       | "2023"         |
| `{n,m}`| nåˆ°mæ¬¡         | `\w{3,5}`     | "abc", "abcde" |

### 2.3 ä½ç½®é”šå®š
| é”šç‚¹   | ä½œç”¨           | ç¤ºä¾‹          | åŒ¹é…ä½ç½®       |
|--------|----------------|---------------|----------------|
| `^`    | å­—ç¬¦ä¸²å¼€å§‹     | `^Start`      | å¼€å¤´           |
| `$`    | å­—ç¬¦ä¸²ç»“æŸ     | `end$`        | ç»“å°¾           |
| `\b`   | å•è¯è¾¹ç•Œ       | `\bcat\b`     | åŒ¹é…"cat"å•è¯  |

## ç¬¬ä¸‰ç« ï¼šå®æˆ˜æ¨¡å¼æ„å»ºï¼ˆå¸¸è§åœºæ™¯ï¼‰

### 3.1 é‚®ç®±éªŒè¯
```python
def validate_email(email):
    pattern = r'^[\w\.-]+@[\w\.-]+\.\w{2,6}$'
    return re.match(pattern, email) is not None

print(validate_email("user@example.com"))  # True
print(validate_email("invalid.email@"))    # False
```

### 3.2 æå–HTMLå†…å®¹
```python
html = '<a href="https://example.com">Example</a>'

# æå–é“¾æ¥å’Œæ–‡æœ¬
pattern = r'<a href="(.*?)">(.*?)</a>'
match = re.search(pattern, html)

if match:
    url = match.group(1)    # https://example.com
    text = match.group(2)   # Example
```

### 3.3 æ—¥æœŸæ ¼å¼è½¬æ¢
```python
date_str = "2023-07-20 20:45"

# ä»"YYYY-MM-DD"æå–æ—¥æœŸ
match = re.search(r'(\d{4})-(\d{2})-(\d{2})', date_str)
if match:
    year, month, day = match.groups()
    new_format = f"{day}/{month}/{year}"  # 20/07/2023
```

## ç¬¬å››ç« ï¼šé«˜çº§æŠ€å·§ä¸ä¼˜åŒ–

### 4.1 åˆ†ç»„æ•è·
```python
text = "John: 32, Alice: 28"

# å‘½ååˆ†ç»„ï¼ˆ?P<name>...ï¼‰
pattern = r'(?P<name>\w+):\s*(?P<age>\d+)'

for match in re.finditer(pattern, text):
    print(f"{match.group('name')} å¹´é¾„æ˜¯ {match.group('age')}")
```

### 4.2 éè´ªå©ªåŒ¹é…
```python
html = '<div>Content1</div><div>Content2</div>'

# è´ªå©ªæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
re.findall(r'<div>(.*)</div>', html)  # ['Content1</div><div>Content2']

# éè´ªå©ªæ¨¡å¼ï¼ˆåŠ ?ï¼‰
re.findall(r'<div>(.*?)</div>', html)  # ['Content1', 'Content2']
```

### 4.3 é¢„ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼
```python
# å¯¹äºé¢‘ç¹ä½¿ç”¨çš„æ¨¡å¼
phone_pattern = re.compile(r'\d{3}-\d{4}-\d{4}')

# å¤ç”¨é¢„ç¼–è¯‘å¯¹è±¡
text = "ç”µè¯ï¼š138-1234-5678"
match = phone_pattern.search(text)
```

## ç¬¬äº”ç« ï¼šè°ƒè¯•ä¸å¯è§†åŒ–å·¥å…·

### 5.1 æ­£åˆ™è¡¨è¾¾å¼è°ƒè¯•å™¨
ä½¿ç”¨åœ¨çº¿å·¥å…·è°ƒè¯•æ¨¡å¼ï¼š
- [RegExr](https://regexr.com/)
- [Regex101](https://regex101.com/)

### 5.2 å¯è§†åŒ–æ­£åˆ™è¡¨è¾¾å¼
ä½¿ç”¨ `regex-diagram` åº“ç”Ÿæˆæµç¨‹å›¾ï¼š
```python
# å®‰è£…ï¼špip install regex-diagram
from regex_diagram import draw

pattern = r'^(\d{3})-(\d{4})-(\d{4})$'
draw(pattern)  # ç”Ÿæˆå¯è§†åŒ–æµç¨‹å›¾
```

## ç¬¬å…­ç« ï¼šå¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ

### 6.1 è½¬ä¹‰å­—ç¬¦é—®é¢˜
```python
# é”™è¯¯ç¤ºä¾‹ï¼ˆå¿˜è®°è½¬ä¹‰ï¼‰
re.search(r'1+1=2', '1+1=2')  # åŒ¹é…å¤±è´¥

# æ­£ç¡®åšæ³•
re.search(r'1\+1=2', '1+1=2')  # éœ€è¦è½¬ä¹‰+
```

### 6.2 å›æº¯ç¾éš¾
```python
# å±é™©æ¨¡å¼ï¼ˆå¯èƒ½å¯¼è‡´å¡æ­»ï¼‰
pattern = r'(a+)+b'

# ä¼˜åŒ–æ–¹æ¡ˆ
pattern = r'a+b'  # ç®€åŒ–æ¨¡å¼
```

### 6.3 å¤šè¡ŒåŒ¹é…
```python
text = """Line1
Line2
Line3"""

# é»˜è®¤ä¸åŒ¹é…æ¢è¡Œç¬¦
re.findall('^Line\d', text)  # ä»… ['Line1']

# ä½¿ç”¨å¤šè¡Œæ¨¡å¼
re.findall('^Line\d', text, flags=re.M)  # ['Line1', 'Line2', 'Line3']
```

## å®æˆ˜é¡¹ç›®ï¼šæ—¥å¿—åˆ†æç³»ç»Ÿ

### æ—¥å¿—æ ¼å¼ç¤ºä¾‹
```
2023-07-20 14:22:35 [ERROR] ModuleA: Connection timeout
2023-07-20 14:23:10 [INFO] ModuleB: User login successful
```

### åˆ†æè„šæœ¬
```python
log_pattern = r'''
    (\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2})  # æ—¶é—´
    \s\[(\w+)\]                                # æ—¥å¿—çº§åˆ«
    \s(\w+):                                   # æ¨¡å—åç§°
    \s(.+)                                     # æ¶ˆæ¯å†…å®¹
'''

error_count = 0
with open('app.log') as f:
    for line in f:
        match = re.search(log_pattern, line, re.X)
        if match:
            time, level, module, msg = match.groups()
            if level == 'ERROR':
                error_count += 1
                print(f"[é”™è¯¯] {time} {module}: {msg}")

print(f"å‘ç° {error_count} ä¸ªé”™è¯¯æ—¥å¿—")
```


---

### é…å¥—ç»ƒä¹ é¢˜

1. **åŸºç¡€ç»ƒä¹ **  
   ğŸ“Œ ç¼–å†™åŒ¹é…ä¸­å›½æ‰‹æœºå·çš„æ­£åˆ™ï¼ˆä»¥13/15/18å¼€å¤´ï¼‰  
   ğŸ“Œ æå–HTMLä¸­æ‰€æœ‰å›¾ç‰‡é“¾æ¥ï¼ˆ`<img src="...">`ï¼‰

2. **è¿›é˜¶æŒ‘æˆ˜**  
   ğŸš€ è§£æApacheè®¿é—®æ—¥å¿—  
   ğŸš€ å®ç°ç®€æ˜“Markdownæ ‡é¢˜è§£æå™¨ï¼ˆ# Headerï¼‰
