import{_ as n,c as a,o as l,a2 as p}from"./chunks/framework.D30IVGRC.js";const i=JSON.parse('{"title":"Pythonæ–‡ä»¶æ“ä½œè¶…è¯¦ç»†æ•™ç¨‹","description":"","frontmatter":{"layout":"doc","title":"Pythonæ–‡ä»¶æ“ä½œè¶…è¯¦ç»†æ•™ç¨‹","editLink":true},"headers":[],"relativePath":"python/basic/files.md","filePath":"python/basic/files.md"}'),o={name:"python/basic/files.md"};function e(t,s,r,c,F,D){return l(),a("div",null,s[0]||(s[0]=[p(`<h1 id="pythonæ–‡ä»¶æ“ä½œä»å…¥é—¨åˆ°ç²¾é€š" tabindex="-1">Pythonæ–‡ä»¶æ“ä½œä»å…¥é—¨åˆ°ç²¾é€š <a class="header-anchor" href="#pythonæ–‡ä»¶æ“ä½œä»å…¥é—¨åˆ°ç²¾é€š" aria-label="Permalink to &quot;Pythonæ–‡ä»¶æ“ä½œä»å…¥é—¨åˆ°ç²¾é€š&quot;">â€‹</a></h1><h2 id="ç¬¬ä¸€ç« -æ–‡ä»¶æ“ä½œå°±åƒæ—¥å¸¸è®°äº‹-åŸºç¡€æ¦‚å¿µ" tabindex="-1">ç¬¬ä¸€ç« ï¼šæ–‡ä»¶æ“ä½œå°±åƒæ—¥å¸¸è®°äº‹ï¼ˆåŸºç¡€æ¦‚å¿µï¼‰ <a class="header-anchor" href="#ç¬¬ä¸€ç« -æ–‡ä»¶æ“ä½œå°±åƒæ—¥å¸¸è®°äº‹-åŸºç¡€æ¦‚å¿µ" aria-label="Permalink to &quot;ç¬¬ä¸€ç« ï¼šæ–‡ä»¶æ“ä½œå°±åƒæ—¥å¸¸è®°äº‹ï¼ˆåŸºç¡€æ¦‚å¿µï¼‰&quot;">â€‹</a></h2><h3 id="_1-1-æ–‡ä»¶æ˜¯ä»€ä¹ˆ" tabindex="-1">1.1 æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_1-1-æ–‡ä»¶æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;1.1 æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h3><p>å°±åƒæˆ‘ä»¬å¹³æ—¶ç”¨ç¬”è®°æœ¬è®°å½•äº‹æƒ…ä¸€æ ·ï¼Œæ–‡ä»¶æ˜¯è®¡ç®—æœºå­˜å‚¨ä¿¡æ¯çš„&quot;ç¬”è®°æœ¬&quot;ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ï¼š</p><ul><li><strong>åå­—</strong>ï¼šæ¯”å¦‚ &quot;æ—¥è®°.txt&quot;ï¼ˆåç¼€è¡¨ç¤ºç±»å‹ï¼‰</li><li><strong>å­˜æ”¾ä½ç½®</strong>ï¼šå°±åƒç¬”è®°æœ¬æ”¾åœ¨ä¹¦æ¡Œçš„å“ªä¸ªæŠ½å±‰</li><li><strong>å†…å®¹</strong>ï¼šæ–‡å­—ã€å›¾ç‰‡ã€æ•°æ®ç­‰</li></ul><h3 id="_1-2-æ–‡ä»¶è·¯å¾„è¯¦è§£" tabindex="-1">1.2 æ–‡ä»¶è·¯å¾„è¯¦è§£ <a class="header-anchor" href="#_1-2-æ–‡ä»¶è·¯å¾„è¯¦è§£" aria-label="Permalink to &quot;1.2 æ–‡ä»¶è·¯å¾„è¯¦è§£&quot;">â€‹</a></h3><p>å‡è®¾ä½ çš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>C:</span></span>
<span class="line"><span>â”œâ”€ ç”¨æˆ·</span></span>
<span class="line"><span>â”‚  â””â”€ å°æ˜</span></span>
<span class="line"><span>â”‚     â”œâ”€ å›¾ç‰‡</span></span>
<span class="line"><span>â”‚     â”‚  â””â”€ å‡æœŸ.jpg</span></span>
<span class="line"><span>â”‚     â””â”€ æ–‡æ¡£</span></span>
<span class="line"><span>â”‚        â””â”€ æŠ¥å‘Š.docx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>è·¯å¾„ç±»å‹å¯¹æ¯”</strong>ï¼š</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># ç›¸å¯¹è·¯å¾„ï¼šä»å½“å‰æ‰€åœ¨ä½ç½®å‡ºå‘ï¼ˆå‡è®¾å½“å‰åœ¨&quot;å°æ˜&quot;æ–‡ä»¶å¤¹ï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">æ–‡æ¡£/æŠ¥å‘Š.docx</span><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">          # æ­£ç¡® âœ”ï¸</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">å›¾ç‰‡/å‡æœŸ.jpg</span><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">          # æ­£ç¡® âœ”ï¸</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ç»å¯¹è·¯å¾„ï¼šä»æœ€é¡¶å±‚å¼€å§‹æè¿°</span></span>
<span class="line"><span style="color:#C792EA;font-style:italic;">r</span><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">C:\\ç”¨æˆ·\\å°æ˜\\æ–‡æ¡£\\æŠ¥å‘Š.docx</span><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">  # Windowså†™æ³• âœ”ï¸</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">/home/å°æ˜/æ–‡æ¡£/æŠ¥å‘Š.docx</span><span style="color:#89DDFF;font-style:italic;">&#39;</span><span style="color:#676E95;font-style:italic;">    # Linux/Macå†™æ³• âœ”ï¸</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨ç°ä»£è·¯å¾„å·¥å…·ï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> pathlib </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Path</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å°±åƒæ‹¼ä¹é«˜ä¸€æ ·ç»„åˆè·¯å¾„</span></span>
<span class="line"><span style="color:#BABED8;">doc_path </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> Path</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ç”¨æˆ·</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> /</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">å°æ˜</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> /</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">æ–‡æ¡£</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> /</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">æŠ¥å‘Š.docx</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">doc_path</span><span style="color:#89DDFF;">)</span><span style="color:#676E95;font-style:italic;">  # è¾“å‡ºï¼šç”¨æˆ·\\å°æ˜\\æ–‡æ¡£\\æŠ¥å‘Š.docx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="ç¬¬äºŒç« -è¯»å†™æ–‡ä»¶å°±åƒè®°ç¬”è®°-åŸºç¡€æ“ä½œ" tabindex="-1">ç¬¬äºŒç« ï¼šè¯»å†™æ–‡ä»¶å°±åƒè®°ç¬”è®°ï¼ˆåŸºç¡€æ“ä½œï¼‰ <a class="header-anchor" href="#ç¬¬äºŒç« -è¯»å†™æ–‡ä»¶å°±åƒè®°ç¬”è®°-åŸºç¡€æ“ä½œ" aria-label="Permalink to &quot;ç¬¬äºŒç« ï¼šè¯»å†™æ–‡ä»¶å°±åƒè®°ç¬”è®°ï¼ˆåŸºç¡€æ“ä½œï¼‰&quot;">â€‹</a></h2><h3 id="_2-1-æ–°å»ºç¬”è®°æœ¬å†™æ—¥è®°" tabindex="-1">2.1 æ–°å»ºç¬”è®°æœ¬å†™æ—¥è®° <a class="header-anchor" href="#_2-1-æ–°å»ºç¬”è®°æœ¬å†™æ—¥è®°" aria-label="Permalink to &quot;2.1 æ–°å»ºç¬”è®°æœ¬å†™æ—¥è®°&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># æ‰“å¼€æ–‡ä»¶å‡†å¤‡å†™ï¼ˆ&#39;w&#39;æ¨¡å¼å°±åƒæ‹¿æ–°æœ¬å­ï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆ‘çš„æ—¥è®°.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> diary</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    diary</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2023å¹´7æœˆ20æ—¥ æ™´</span><span style="color:#BABED8;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">    diary</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ä»Šå¤©å­¦ä¼šäº†ç”¨Pythonå†™æ–‡ä»¶ï¼</span><span style="color:#BABED8;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # \\nè¡¨ç¤ºæ¢è¡Œï¼Œå°±åƒå†™å®Œä¸€è¡ŒæŒ‰å›è½¦é”®</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼ˆç°åœ¨å»æ–‡ä»¶å¤¹é‡ŒåŒå‡»æ‰“å¼€çœ‹çœ‹å§ï¼‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-2-ç»§ç»­å†™æ—¥è®°ä¸è¦†ç›–ä¹‹å‰å†…å®¹" tabindex="-1">2.2 ç»§ç»­å†™æ—¥è®°ä¸è¦†ç›–ä¹‹å‰å†…å®¹ <a class="header-anchor" href="#_2-2-ç»§ç»­å†™æ—¥è®°ä¸è¦†ç›–ä¹‹å‰å†…å®¹" aria-label="Permalink to &quot;2.2 ç»§ç»­å†™æ—¥è®°ä¸è¦†ç›–ä¹‹å‰å†…å®¹&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆ‘çš„æ—¥è®°.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> diary</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">  # &#39;a&#39;æ˜¯è¿½åŠ æ¨¡å¼</span></span>
<span class="line"><span style="color:#BABED8;">    diary</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">\\n</span><span style="color:#C3E88D;">æ™šä¸Šè¡¥å……ï¼šæœˆäº®å¥½åœ†å•ŠğŸŒ•</span><span style="color:#BABED8;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-3-è¯»å–æ—¥è®°å†…å®¹" tabindex="-1">2.3 è¯»å–æ—¥è®°å†…å®¹ <a class="header-anchor" href="#_2-3-è¯»å–æ—¥è®°å†…å®¹" aria-label="Permalink to &quot;2.3 è¯»å–æ—¥è®°å†…å®¹&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># æ–¹æ³•1ï¼šä¸€æ¬¡æ€§è¯»å®Œï¼ˆé€‚åˆå°æ–‡ä»¶ï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆ‘çš„æ—¥è®°.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> diary</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    all_content </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> diary</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">=== å®Œæ•´æ—¥è®° ===</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">all_content</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æ–¹æ³•2ï¼šé€è¡Œè¯»å–ï¼ˆé€‚åˆå¤§æ–‡ä»¶ï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆ‘çš„æ—¥è®°.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> diary</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">\\n</span><span style="color:#C3E88D;">=== æŒ‰è¡Œé˜…è¯» ===</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    for</span><span style="color:#BABED8;"> line_number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> line_content </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#82AAFF;"> enumerate</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">diary</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;ç¬¬</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">line_number</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">è¡Œï¼š</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">line_content</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">strip</span><span style="color:#89DDFF;">()</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¾“å‡ºæ•ˆæœï¼š</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>=== å®Œæ•´æ—¥è®° ===</span></span>
<span class="line"><span>2023å¹´7æœˆ20æ—¥ æ™´</span></span>
<span class="line"><span>ä»Šå¤©å­¦ä¼šäº†ç”¨Pythonå†™æ–‡ä»¶ï¼</span></span>
<span class="line"><span></span></span>
<span class="line"><span>æ™šä¸Šè¡¥å……ï¼šæœˆäº®å¥½åœ†å•ŠğŸŒ•</span></span>
<span class="line"><span></span></span>
<span class="line"><span>=== æŒ‰è¡Œé˜…è¯» ===</span></span>
<span class="line"><span>ç¬¬1è¡Œï¼š2023å¹´7æœˆ20æ—¥ æ™´</span></span>
<span class="line"><span>ç¬¬2è¡Œï¼šä»Šå¤©å­¦ä¼šäº†ç”¨Pythonå†™æ–‡ä»¶ï¼</span></span>
<span class="line"><span>ç¬¬3è¡Œï¼š</span></span>
<span class="line"><span>ç¬¬4è¡Œï¼šæ™šä¸Šè¡¥å……ï¼šæœˆäº®å¥½åœ†å•ŠğŸŒ•</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ç¬¬ä¸‰ç« -ç‰¹æ®Šæ–‡ä»¶å¤„ç†-å›¾ç‰‡-excelç­‰" tabindex="-1">ç¬¬ä¸‰ç« ï¼šç‰¹æ®Šæ–‡ä»¶å¤„ç†ï¼ˆå›¾ç‰‡/Excelç­‰ï¼‰ <a class="header-anchor" href="#ç¬¬ä¸‰ç« -ç‰¹æ®Šæ–‡ä»¶å¤„ç†-å›¾ç‰‡-excelç­‰" aria-label="Permalink to &quot;ç¬¬ä¸‰ç« ï¼šç‰¹æ®Šæ–‡ä»¶å¤„ç†ï¼ˆå›¾ç‰‡/Excelç­‰ï¼‰&quot;">â€‹</a></h2><h3 id="_3-1-å¤åˆ¶ç…§ç‰‡-äºŒè¿›åˆ¶æ–‡ä»¶" tabindex="-1">3.1 å¤åˆ¶ç…§ç‰‡ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ <a class="header-anchor" href="#_3-1-å¤åˆ¶ç…§ç‰‡-äºŒè¿›åˆ¶æ–‡ä»¶" aria-label="Permalink to &quot;3.1 å¤åˆ¶ç…§ç‰‡ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#82AAFF;"> copy_photo</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">original_path</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> new_path</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # &#39;rb&#39;è¡¨ç¤ºç”¨äºŒè¿›åˆ¶æ¨¡å¼è¯»å–</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_path</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">rb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> origin</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">            photo_data </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> origin</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">()</span><span style="color:#676E95;font-style:italic;">  # è¯»å–åŸå§‹ç…§ç‰‡æ•°æ®</span></span>
<span class="line"><span style="color:#BABED8;">            </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        # &#39;wb&#39;è¡¨ç¤ºç”¨äºŒè¿›åˆ¶æ¨¡å¼å†™å…¥</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">new_path</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">wb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> copy</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">            copy</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">photo_data</span><span style="color:#89DDFF;">)</span><span style="color:#676E95;font-style:italic;">  # å†™å…¥æ–°æ–‡ä»¶</span></span>
<span class="line"><span style="color:#BABED8;">            </span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;ç…§ç‰‡å·²ä¿å­˜åˆ°ï¼š</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">new_path</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">        </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    except</span><span style="color:#FFCB6B;"> FileNotFoundError</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">âš ï¸ æ‰¾ä¸åˆ°åŸå§‹ç…§ç‰‡ï¼Œè¯·æ£€æŸ¥è·¯å¾„</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    except</span><span style="color:#FFCB6B;"> PermissionError</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">â›” æ²¡æœ‰æƒé™ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å¤¹æ˜¯å¦å¯å†™</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨ç¤ºä¾‹ï¼ˆå‡è®¾æœ‰ä¸€å¼ test.jpgï¼‰</span></span>
<span class="line"><span style="color:#82AAFF;">copy_photo</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">å¤‡ä»½ç…§ç‰‡.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_3-2-å¤„ç†excelæˆç»©å•-éœ€å®‰è£…openpyxl" tabindex="-1">3.2 å¤„ç†Excelæˆç»©å•ï¼ˆéœ€å®‰è£…openpyxlï¼‰ <a class="header-anchor" href="#_3-2-å¤„ç†excelæˆç»©å•-éœ€å®‰è£…openpyxl" aria-label="Permalink to &quot;3.2 å¤„ç†Excelæˆç»©å•ï¼ˆéœ€å®‰è£…openpyxlï¼‰&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> openpyxl </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Workbook</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># åˆ›å»ºæ–°Excelæ–‡ä»¶</span></span>
<span class="line"><span style="color:#BABED8;">grade_book </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> Workbook</span><span style="color:#89DDFF;">()</span><span style="color:#676E95;font-style:italic;">  # å¾—åˆ°ä¸€ä¸ªç©ºæœ¬å­</span></span>
<span class="line"><span style="color:#BABED8;">sheet </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> grade_book</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">active</span><span style="color:#676E95;font-style:italic;">  # æ‰“å¼€ç¬¬ä¸€é¡µ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æ·»åŠ è¡¨å¤´ï¼ˆå°±åƒå†™æ ‡é¢˜ï¼‰</span></span>
<span class="line"><span style="color:#BABED8;">sheet</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">å§“å</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">è¯­æ–‡</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">æ•°å­¦</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">è‹±è¯­</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æ·»åŠ æ•°æ®</span></span>
<span class="line"><span style="color:#BABED8;">sheet</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 90</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 85</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 92</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#BABED8;">sheet</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æå››</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 88</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 95</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 89</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä¿å­˜æ–‡ä»¶ï¼ˆå°±åƒåˆä¸Šæœ¬å­æ”¾è¿›ä¹¦åŒ…ï¼‰</span></span>
<span class="line"><span style="color:#BABED8;">grade_book</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">save</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æœŸæœ«æˆç»©.xlsx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æˆç»©å•å·²ç”Ÿæˆï¼</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è¯»å–Excelæ–‡ä»¶</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> openpyxl </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> load_workbook</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">wb </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> load_workbook</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æœŸæœ«æˆç»©.xlsx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">sheet </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> wb</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">active</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">\\n</span><span style="color:#C3E88D;">=== æˆç»©åˆ—è¡¨ ===</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#BABED8;"> row </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#BABED8;"> sheet</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">iter_rows</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">values_only</span><span style="color:#89DDFF;">=True):</span><span style="color:#676E95;font-style:italic;">  # values_onlyè·å–å®é™…å€¼</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>è¾“å‡ºï¼š</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>æˆç»©å•å·²ç”Ÿæˆï¼</span></span>
<span class="line"><span></span></span>
<span class="line"><span>=== æˆç»©åˆ—è¡¨ ===</span></span>
<span class="line"><span>(&#39;å§“å&#39;, &#39;è¯­æ–‡&#39;, &#39;æ•°å­¦&#39;, &#39;è‹±è¯­&#39;)</span></span>
<span class="line"><span>(&#39;å¼ ä¸‰&#39;, 90, 85, 92)</span></span>
<span class="line"><span>(&#39;æå››&#39;, 88, 95, 89)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="ç¬¬å››ç« -é«˜æ•ˆç®¡ç†æ–‡ä»¶-å®ç”¨æŠ€å·§" tabindex="-1">ç¬¬å››ç« ï¼šé«˜æ•ˆç®¡ç†æ–‡ä»¶ï¼ˆå®ç”¨æŠ€å·§ï¼‰ <a class="header-anchor" href="#ç¬¬å››ç« -é«˜æ•ˆç®¡ç†æ–‡ä»¶-å®ç”¨æŠ€å·§" aria-label="Permalink to &quot;ç¬¬å››ç« ï¼šé«˜æ•ˆç®¡ç†æ–‡ä»¶ï¼ˆå®ç”¨æŠ€å·§ï¼‰&quot;">â€‹</a></h2><h3 id="_4-1-è‡ªåŠ¨æ•´ç†ç…§ç‰‡" tabindex="-1">4.1 è‡ªåŠ¨æ•´ç†ç…§ç‰‡ <a class="header-anchor" href="#_4-1-è‡ªåŠ¨æ•´ç†ç…§ç‰‡" aria-label="Permalink to &quot;4.1 è‡ªåŠ¨æ•´ç†ç…§ç‰‡&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> pathlib </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Path</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> shutil</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">photo_folder </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> Path</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ‰‹æœºç…§ç‰‡</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">organized_folder </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> Path</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ•´ç†åçš„ç…§ç‰‡</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># åˆ›å»ºå¹´ä»½æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#BABED8;"> year </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#89DDFF;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2021</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2022</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">2023</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]:</span></span>
<span class="line"><span style="color:#89DDFF;">    (</span><span style="color:#BABED8;">organized_folder </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;"> year</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">mkdir</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">parents</span><span style="color:#89DDFF;">=True,</span><span style="color:#BABED8;font-style:italic;"> exist_ok</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ç§»åŠ¨æ–‡ä»¶ï¼ˆå‡è®¾æ–‡ä»¶ååŒ…å«æ—¥æœŸï¼‰</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#BABED8;"> photo </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#BABED8;"> photo_folder</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">IMG_*.jpg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # ä»æ–‡ä»¶åæå–æ—¥æœŸï¼ˆå‡è®¾æ ¼å¼ä¸ºIMG_20230720_123456.jpgï¼‰</span></span>
<span class="line"><span style="color:#BABED8;">    date_part </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> photo</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">    year </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> date_part</span><span style="color:#89DDFF;">[:</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#BABED8;">    target_folder </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> organized_folder </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;"> year</span></span>
<span class="line"><span style="color:#BABED8;">    shutil</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">photo</span><span style="color:#89DDFF;">),</span><span style="color:#FFCB6B;"> str</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">target_folder </span><span style="color:#89DDFF;">/</span><span style="color:#82AAFF;"> photo</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;å·²ç§»åŠ¨ </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">photo</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> åˆ° </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">year</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> æ–‡ä»¶å¤¹&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_4-2-å¤„ç†è¶…å¤§æ–‡ä»¶-é¿å…å¡æ­»" tabindex="-1">4.2 å¤„ç†è¶…å¤§æ–‡ä»¶ï¼ˆé¿å…å¡æ­»ï¼‰ <a class="header-anchor" href="#_4-2-å¤„ç†è¶…å¤§æ–‡ä»¶-é¿å…å¡æ­»" aria-label="Permalink to &quot;4.2 å¤„ç†è¶…å¤§æ–‡ä»¶ï¼ˆé¿å…å¡æ­»ï¼‰&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#82AAFF;"> process_big_file</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">input_file</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> output_file</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">input_file</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> big_file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_file</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> result_file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            # é€è¡Œå¤„ç†ï¼Œå†…å­˜å‹å¥½</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            for</span><span style="color:#BABED8;"> line </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#BABED8;"> big_file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">                processed_line </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> line</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">strip</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">upper</span><span style="color:#89DDFF;">()</span><span style="color:#676E95;font-style:italic;">  # è½¬å¤§å†™</span></span>
<span class="line"><span style="color:#BABED8;">                result_file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">processed_line </span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#BABED8;">\\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">                </span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;å·²å®Œæˆå¤„ç†ï¼Œç»“æœä¿å­˜åˆ° </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">output_file</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¤„ç†100MBçš„æ—¥å¿—æ–‡ä»¶ï¼‰</span></span>
<span class="line"><span style="color:#82AAFF;">process_big_file</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">huge_log.txt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">processed_log.txt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ç¬¬äº”ç« -å¸¸è§é—®é¢˜æ’é›·æŒ‡å—" tabindex="-1">ç¬¬äº”ç« ï¼šå¸¸è§é—®é¢˜æ’é›·æŒ‡å— <a class="header-anchor" href="#ç¬¬äº”ç« -å¸¸è§é—®é¢˜æ’é›·æŒ‡å—" aria-label="Permalink to &quot;ç¬¬äº”ç« ï¼šå¸¸è§é—®é¢˜æ’é›·æŒ‡å—&quot;">â€‹</a></h2><h3 id="_5-1-ä¸­æ–‡ä¹±ç é—®é¢˜" tabindex="-1">5.1 ä¸­æ–‡ä¹±ç é—®é¢˜ <a class="header-anchor" href="#_5-1-ä¸­æ–‡ä¹±ç é—®é¢˜" aria-label="Permalink to &quot;5.1 ä¸­æ–‡ä¹±ç é—®é¢˜&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ—§æ–‡ä»¶.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        content </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">except</span><span style="color:#FFCB6B;"> UnicodeDecodeError</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ£€æµ‹åˆ°ç¼–ç é—®é¢˜ï¼Œå°è¯•å¸¸è§ä¸­æ–‡ç¼–ç ...</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    for</span><span style="color:#BABED8;"> encoding </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#89DDFF;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">gbk</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">utf-16</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">big5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]:</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ—§æ–‡ä»¶.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">encoding</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">                content </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">            print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;ä½¿ç”¨ </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">encoding</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> ç¼–ç æˆåŠŸè¯»å–ï¼&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            break</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        except</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            continue</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_5-2-å®‰å…¨åˆ é™¤æ–‡ä»¶" tabindex="-1">5.2 å®‰å…¨åˆ é™¤æ–‡ä»¶ <a class="header-anchor" href="#_5-2-å®‰å…¨åˆ é™¤æ–‡ä»¶" aria-label="Permalink to &quot;5.2 å®‰å…¨åˆ é™¤æ–‡ä»¶&quot;">â€‹</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> send2trash  </span><span style="color:#676E95;font-style:italic;"># éœ€å®‰è£…ï¼špip install send2trash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æ¯”ç›´æ¥åˆ é™¤æ›´å®‰å…¨ï¼Œä¼šè¿›å›æ”¶ç«™</span></span>
<span class="line"><span style="color:#BABED8;">send2trash</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send2trash</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">è¦åˆ é™¤çš„æ–‡ä»¶.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ–‡ä»¶å·²å®‰å…¨ç§»è‡³å›æ”¶ç«™</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="å®æˆ˜æ¼”ç»ƒ-ä¸ªäººè´¦æœ¬ç¨‹åº" tabindex="-1">å®æˆ˜æ¼”ç»ƒï¼šä¸ªäººè´¦æœ¬ç¨‹åº <a class="header-anchor" href="#å®æˆ˜æ¼”ç»ƒ-ä¸ªäººè´¦æœ¬ç¨‹åº" aria-label="Permalink to &quot;å®æˆ˜æ¼”ç»ƒï¼šä¸ªäººè´¦æœ¬ç¨‹åº&quot;">â€‹</a></h2><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> pathlib </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Path</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> csv</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> datetime </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> datetime</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#FFCB6B;"> AccountBook</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#C792EA;">    def</span><span style="color:#82AAFF;"> __init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">file_path</span><span style="color:#89DDFF;"> =</span><span style="color:#82AAFF;"> Path</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">å®¶åº­è´¦æœ¬.csv</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_init_file</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#C792EA;">    def</span><span style="color:#82AAFF;"> _init_file</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        if</span><span style="color:#89DDFF;"> not</span><span style="color:#BABED8;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">file_path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exists</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">file_path</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> newline</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">                writer </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writer</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">                writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writerow</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ—¥æœŸ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">ç±»å‹</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">é‡‘é¢</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">è¯´æ˜</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#C792EA;">    def</span><span style="color:#82AAFF;"> add_record</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> type_</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> amount</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> note</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">        date_str </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> datetime</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">strftime</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%Y-%m-</span><span style="color:#F78C6C;">%d</span><span style="color:#C3E88D;"> %H:%M</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">file_path</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> newline</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">            writer </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writer</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">            writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writerow</span><span style="color:#89DDFF;">([</span><span style="color:#82AAFF;">date_str</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> type_</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> amount</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> note</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">âˆš è®°å½•å·²ä¿å­˜</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#C792EA;">    def</span><span style="color:#82AAFF;"> show_summary</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">        total_income </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;"> 0</span></span>
<span class="line"><span style="color:#BABED8;">        total_expense </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;"> 0</span></span>
<span class="line"><span style="color:#BABED8;">        </span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        with</span><span style="color:#82AAFF;"> open</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">file_path</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">            reader </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">DictReader</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            for</span><span style="color:#BABED8;"> row </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#BABED8;"> reader</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">                amount </span><span style="color:#89DDFF;">=</span><span style="color:#FFCB6B;"> float</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">é‡‘é¢</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">                if</span><span style="color:#BABED8;"> row</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ç±»å‹</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;"> ==</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">æ”¶å…¥</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">                    total_income </span><span style="color:#89DDFF;">+=</span><span style="color:#BABED8;"> amount</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">                else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">                    total_expense </span><span style="color:#89DDFF;">+=</span><span style="color:#BABED8;"> amount</span></span>
<span class="line"><span style="color:#BABED8;">                    </span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;</span><span style="color:#BABED8;">\\n</span><span style="color:#C3E88D;">å½“å‰ç»“ä½™ï¼š</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_income </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> total_expense</span><span style="color:#C792EA;">:.2f</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">å…ƒ&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;æ€»æ”¶å…¥ï¼š</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_income</span><span style="color:#C792EA;">:.2f</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">å…ƒ&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;æ€»æ”¯å‡ºï¼š</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_expense</span><span style="color:#C792EA;">:.2f</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">å…ƒ&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#BABED8;">book </span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;"> AccountBook</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#BABED8;">book</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_record</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ”¶å…¥</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 5000</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">å·¥èµ„</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">book</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_record</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ”¯å‡º</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;"> 98.5</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">è¶…å¸‚è´­ç‰©</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">book</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">show_summary</span><span style="color:#89DDFF;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="é…å¥—ç»ƒä¹ å¥—é¤" tabindex="-1">é…å¥—ç»ƒä¹ å¥—é¤ <a class="header-anchor" href="#é…å¥—ç»ƒä¹ å¥—é¤" aria-label="Permalink to &quot;é…å¥—ç»ƒä¹ å¥—é¤&quot;">â€‹</a></h3><ol><li><p><strong>æ–°æ‰‹ä»»åŠ¡</strong><br> ğŸ“Œ åˆ›å»ºä¸€ä¸ª&quot;è¯»ä¹¦ç¬”è®°.txt&quot;ï¼Œè®°å½•æœ€è¿‘è¯»çš„3æœ¬ä¹¦<br> ğŸ“Œ ç¼–å†™ç¨‹åºç»Ÿè®¡æ–‡ä»¶ä¸­åŒ…å«&quot;æ¨è&quot;ä¸€è¯çš„è¡Œæ•°</p></li><li><p><strong>è¿›é˜¶æŒ‘æˆ˜</strong><br> ğŸš€ æŠŠæ‰‹æœºé‡Œçš„ç…§ç‰‡æŒ‰æœˆä»½æ•´ç†åˆ°ä¸åŒæ–‡ä»¶å¤¹<br> ğŸš€ å®ç°CSVè½¬Excelçš„å°å·¥å…·</p></li></ol>`,40)]))}const b=n(o,[["render",e]]);export{i as __pageData,b as default};
